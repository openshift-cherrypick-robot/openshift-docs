// Module included in the following assemblies:
//
// * installing/installing_helm/install-helm-customization.adoc
:_mod-docs-content-type: CONCEPT
[id="central-services-private-configuration-file_{context}"]
= Private configuration file

This section lists the configurable parameters of the `values-private.yaml` file.
There are no default values for these parameters.

[id="central-services-private-configuration-file-image-pull-secrets_{context}"]
== Image pull secrets
The credentials that are required for pulling images from the registry depend on the following factors:

* If you are using a custom registry, you must specify these parameters:
** `imagePullSecrets.username`
** `imagePullSecrets.password`
** `image.registry`

* If you do not use a username and password to log in to the custom registry, you must specify one of the following parameters:
** `imagePullSecrets.allowNone`
** `imagePullSecrets.useExisting`
** `imagePullSecrets.useFromDefaultServiceAccount`

[cols="1,3",options="header"]
|===
| Parameter | Description

| `imagePullSecrets.username`
| The username of the account that is used to log in to the registry.

| `imagePullSecrets.password`
| The password of the account that is used to log in to the registry.

| `imagePullSecrets.allowNone`
| Use `true` if you are using a custom registry and it allows pulling images without credentials.

| `imagePullSecrets.useExisting`
| A comma-separated list of secrets as values.
For example, `secret1, secret2, secretN`. Use this option if you have already created pre-existing image pull secrets with the given name in the target namespace.

| `imagePullSecrets.useFromDefaultServiceAccount`
| Use `true` if you have already configured the default service account in the target namespace with sufficiently scoped image pull secrets.
|===

[id="central-services-private-configuration-file-proxy-config_{context}"]
== Proxy configuration

If you are installing {product-title} in a cluster that requires a proxy to connect to external services, you must specify your proxy configuration by using the `proxyConfig` parameter.
For example:

[source,yaml]
----
env:
  proxyConfig: |
    url: http://proxy.name:port
    username: username
    password: password
    excludes:
    - some.domain
----

|===
| Parameter | Description

| `env.proxyConfig`
| Your proxy configuration.
|===

[id="central-services-private-configuration-file-central_{context}"]
== Central
Configurable parameters for Central.

For a new installation, you can skip the following parameters:

* `central.jwtSigner.key`
* `central.serviceTLS.cert`
* `central.serviceTLS.key`
* `central.adminPassword.value`
* `central.adminPassword.htpasswd`
* `central.db.serviceTLS.cert`
* `central.db.serviceTLS.key`
* `central.db.password.value`

* When you do not specify values for these parameters the Helm chart autogenerates values for them.
* If you want to modify these values you can use the `helm upgrade` command and specify the values using the `--set` option.

[IMPORTANT]
====
For setting the administrator password, you can only use either `central.adminPassword.value` or `central.adminPassword.htpasswd`, but not both.
====

[cols="1,3",options="header"]
|===
| Parameter | Description

| `central.jwtSigner.key`
| A private key which {product-title-short} should use for signing JSON web tokens (JWTs) for authentication.

| `central.serviceTLS.cert`
| An internal certificate that the Central service should use for deploying Central.

| `central.serviceTLS.key`
| The private key of the internal certificate that the Central service should use.

| `central.defaultTLS.cert`
a| The user-facing certificate that Central should use. {product-title-short} uses this certificate for {product-title-short} portal.

* For a new installation, you must provide a certificate, otherwise, {product-title-short} installs Central by using a self-signed certificate.
* If you are upgrading, {product-title-short} uses the existing certificate and its key.

| `central.defaultTLS.key`
a| The private key of the user-facing certificate that Central should use.

* For a new installation, you must provide the private key, otherwise, {product-title-short} installs Central by using a self-signed certificate.
* If you are upgrading, {product-title-short} uses the existing certificate and its key.

| `central.db.password.value`
| Connection password for Central database.

| `central.adminPassword.value`
| Administrator password for logging into {product-title-short}.

| `central.adminPassword.htpasswd`
| Administrator password for logging into {product-title-short}.
This password is stored in hashed format using bcrypt.

| `central.db.serviceTLS.cert`
| An internal certificate that the Central DB service should use for deploying Central DB.

| `central.db.serviceTLS.key`
| The private key of the internal certificate that the Central DB service should use.

| `central.db.password.value`
| The password used to connect to the Central DB.

|===

[NOTE]
====
If you are using `central.adminPassword.htpasswd` parameter, you must use a bcrypt encoded password hash.
You can run the command `htpasswd -nB admin` to generate a password hash.
For example,

[source,yaml]
----
htpasswd: |
  admin:<bcrypt-hash>
----
====

[id="central-services-private-configuration-file-scanner_{context}"]
== Scanner
Configurable parameters for the StackRox Scanner and Scanner V4 (Technology Preview).

:FeatureName: Scanner V4
include::snippets/technology-preview.adoc[]

For a new installation, you can skip the following parameters and the Helm chart autogenerates values for them.
Otherwise, if you are upgrading to a new version, specify the values for the following parameters:

* `scanner.dbPassword.value`
* `scanner.serviceTLS.cert`
* `scanner.serviceTLS.key`
* `scanner.dbServiceTLS.cert`
* `scanner.dbServiceTLS.key`
* `scannerV4.db.password.value`
* `scannerV4.indexer.serviceTLS.cert`
* `scannerV4.indexer.serviceTLS.key`
* `scannerV4.matcher.serviceTLS.cert`
* `scannerV4.matcher.serviceTLS.key`
* `scannerV4.db.serviceTLS.cert`
* `scannerV4.db.serviceTLS.key`

[cols="1,3",options="header"]
|===
| Parameter | Description

| `scanner.dbPassword.value`
| The password to use for authentication with Scanner database.
Do not modify this parameter because {product-title-short} automatically creates and uses its value internally.

| `scanner.serviceTLS.cert`
| An internal certificate that the StackRox Scanner service should use for deploying the StackRox Scanner.

| `scanner.serviceTLS.key`
| The private key of the internal certificate that the Scanner service should use.

| `scanner.dbServiceTLS.cert`
| An internal certificate that the Scanner-db service should use for deploying Scanner database.

| `scanner.dbServiceTLS.key`
| The private key of the internal certificate that the Scanner-db service should use.

| `scannerV4.db.password.value`
| The password to use for authentication with the Scanner V4 database. Do not modify this parameter because {product-title-short} automatically creates and uses its value internally.

| `scannerV4.db.serviceTLS.cert`
| An internal certificate that the Scanner V4 DB service should use for deploying the Scanner V4 database.

| `scannerV4.db.serviceTLS.key`
| The private key of the internal certificate that the Scanner V4 DB service should use.

| `scannerV4.indexer.serviceTLS.cert`
| An internal certificate that the Scanner V4 service should use for deploying the Scanner V4 Indexer.

| `scannerV4.indexer.serviceTLS.key`
| The private key of the internal certificate that the Scanner V4 Indexer should use.

| `scannerV4.matcher.serviceTLS.cert`
| An internal certificate that the Scanner V4 service should use for deploying the the Scanner V4 Matcher.

| `scannerV4.matcher.serviceTLS.key`
| The private key of the internal certificate that the Scanner V4 Matcher should use.

|===
